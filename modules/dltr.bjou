# dltr.bjou
# simple scoped deleter

module dltr

import "null.bjou"

type dltr$T {
    ptr : T*

    proc create(ptr : T*) : dltr$T
        return { dltr$T: .ptr = ptr }

    implements idestroy {
        proc destroy(this) {
            if not this.ptr.isnull()
                delete ptr
        }     
    }
}
