# struct.bjou

type LinkedListNode {
    data : float
    next : LinkedListNode*

    proc create(val : float) : LinkedListNode* {
        l := new LinkedListNode
        l.data = val
        return l
    }

    proc ignore() {}
}

type LinkedList {
    length : int
    front : LinkedListNode*
    back : LinkedListNode*

    proc create() : LinkedList
        return { LinkedList: .length = 0 }

    proc append(this : LinkedList*, val : float) {
        if this.length == 0 {
            this.front = LinkedListNode.create(val)
            this.back = this.front
            this.length = 1
        } else {
            this.back.next = LinkedListNode.create(val)
            this.back = this.back.next
            this.length += 1
        }
    }

    proc printall(this : LinkedList*, node : LinkedListNode*) {
        print "%", node.data
        if node != this.back this.printall(node.next)
    }

    proc printall(this : LinkedList*)
        this.printall(this.front)
}

(proc main() {
	l := LinkedList.create()
    l->append(3.1415926536)
    l->append(234.42341)
    l->append(872.2465)
    l->printall()
})()

